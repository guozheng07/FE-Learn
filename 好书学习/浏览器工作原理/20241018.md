# 课程导读
- Chrome开发者工具中，每个面板的功能是什么？
- NetWork（网络面板）包含哪几个部分？
- NetWork各部分的作用分别是什么？重点介绍网络面板中的详细列表
- 基于时间线面板的分析，有哪些环节会导致请求耗时过长？
- 什么是DOM？是DOM的作用是什么？
- HTML解析器是怎么工作的？
- JavaScript是如何阻塞DOM解析的？
- HTML解析器是等整个HTML文档加载完成之后开始解析的，还是随着HTML文档边加载边解析的？

# 21 | Chrome开发者工具：利用网络面板做性能分析
之前学习了“浏览器中的页面循环系统”模块，下面学习“浏览器中的页面”模块。

页面是浏览器的核心，浏览器中的所有功能点都是服务于页面的，而Chrome开发者工具又是工程师调试页面的核心工具，所以在这个模块的开篇，我想先带你来深入了解下Chrome开发者工具。

作为这一模块的第一篇文章，我们主要聚焦**页面的源头**和**网络数据的接收**，这些发送和接收的数据都能体现在开发者工具的网络面板上。不过为了你能更好地理解和掌握，我们会先对Chrome开发者工具做一个大致的介绍，然后再深入剖析网络面板。

## Chrome开发者工具
Chrome开发者工具共包含了10个功能面板，包括了Elements、Console、Sources、NetWork、Performance、Memory、Application、Security、Audits和Layers。
- 与性能相关：网络面板、Performance面板、内存面板等。
- 与调试页面相关：Elements面板、Sources面板、Console面板等。

简单来说，Chrome开发者工具为我们提供了通过界面访问或者编辑DOM和CSSOM的能力，还提供了强大的调试功能和查看性能指标的能力。

## 网络面板
网络面板由控制器、过滤器、抓图信息、时间线、详细列表和下载信息概要这6个区域构成（如下图所示）。

![image](https://github.com/user-attachments/assets/4a397c14-ec9a-4499-902c-37a8043a2eb5)

### 1.控制器
控制器有4个比较重要的功能，我们按照下文中的这张图来简单介绍下。

![image](https://github.com/user-attachments/assets/c36906ca-8cc2-4474-aac1-e98401b0d3bd)

- 红色圆点的按钮，表示“开始/暂停抓包”。
- “全局搜索”按钮，这个功能就非常重要了，可以在所有下载资源中搜索相关内容，还可以快速定位到某几个你想要的文件上。
- Disable cache，即“禁止从Cache中加载资源”的功能，它在调试Web应用的时候非常有用，因为开启了Cache会影响到网络性能测试的结果。
- Online按钮，是“模拟2G/3G”功能，它可以限制带宽，模拟弱网情况下页面的展现情况，然后你就可以根据实际展示情况来动态调整策略，以便让Web应用更加适用于这些弱网。

### 2.过滤器
网络面板中的过滤器，主要就是起过滤功能。因为有时候一个页面有太多内容在详细列表区域中展示了，而你可能只想查看JavaScript文件或者CSS文件，这时候就可以通过过滤器模块来筛选你想要的文件类型。

### 3.抓图信息
抓图信息区域，可以用来分析用户等待页面加载时间内所看到的内容，分析用户实际的体验情况。比如，如果页面加载1秒多之后屏幕截图还是白屏状态，这时候就需要分析是网络还是代码的问题了。

![image](https://github.com/user-attachments/assets/b3e637a2-f89c-423e-97b3-b070a50c7ba2)

### 4.时间线
时间线，主要用来展示HTTP、HTTPS、WebSocket加载的状态和时间的一个关系，用于直观感受页面的加载过程。如果是多条竖线堆叠在一起，那说明这些资源被同时被加载。至于具体到每个文件的加载信息，还需要用到下面要讲的详细列表。

### 5.详细列表
这个区域是最重要的，它详细记录了每个资源从发起请求到完成请求这中间所有过程的状态，以及最终请求完成的数据信息。通过该列表，你就能很容易地去诊断一些网络问题。

详细列表是我们本篇文章介绍的重点，不过内容比较多，所以放到最后去专门介绍了。

### 6.下载信息概要
下载信息概要中，你要重点关注下DOMContentLoaded和Load两个事件，以及这两个事件的完成时间。
- DOMContentLoaded，这个事件发生后，说明页面已经构建好DOM了，这意味着构建DOM所需要的HTML文件、JavaScript文件、CSS文件都已经下载完成了。
- Load，说明浏览器已经加载了所有的资源（图像、样式表等）。

通过下载信息概要面板，你可以查看触发这两个事件所花费的时间。

## 网络面板中的详细列表
### 1.列表的属性
列表的属性比较多，比如Name、Status、Type、Initiator等等，这个不难理解。当然，你还可以通过点击右键的下拉菜单来添加其他属性，这里我就不再赘述了，你可以自己上手实操一下。

另外，你也可以按照列表的属性来给列表排序，默认情况下，列表是按请求发起的时间来排序的，最早发起请求的资源在顶部。当然也可以按照返回状态码、请求类型、请求时长、内容大小等基础属性排序，只需点击相应属性即可。

![image](https://github.com/user-attachments/assets/d4d1917d-b525-44f4-b03e-7ad7f7951c0b)

### 2.详细信息
如果你选中详细列表中的一项，右边就会出现该项的详细信息，如下所示：

![image](https://github.com/user-attachments/assets/a5ecf51f-8903-4b63-98fa-94c34d957ce6)

### 3.单个资源的时间线

## 优化时间线上耗时项
### 1.排队（Queuing）时间过久
### 2.第一字节时间（TTFB）时间过久
### Content Download时间过久

## 总结

## 思考时间

# 22 | DOM树：JavaScript是如何影响DOM树构建的？
